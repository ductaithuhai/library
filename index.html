<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My books</title>
    <link rel="stylesheet" href="./assets/css/style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
  </head>
  <body>
    <div class="container">
      <div class="saveOptions">
        <div class="select">
            <label class="localS">
              <input type="radio" name="saveType" value="local" checked> LÆ°u trÃªn mÃ¡y
              <i class="fa-solid fa-file"></i>
            </label>
  <label class="googleS">
    <input type="radio" name="saveType" value="google"> LÆ°u lÃªn Google
    <i class="fa-brands fa-google"></i>
  </label>
        </div>
  <button id="saveLibrary">LÆ°u thÆ° viá»‡n</button>
</div>

      <div id="header">
        <div class="site">
          <img src="./assets/logo/logo.png" alt="simple logo" class="logo" width="100"/>
           <div class="siteName">My Reading List</div>
        </div>
        <button id="add">
        <i class="fa-solid fa-plus"></i>
      </button>
        <div id="bookCount">
          <div class="readed">Readed:</div>
          <div class="notReaded">Unread:</div>
        </div>
      </div>
      <div id="bookZone"></div>
    </div>
    <div class="inputfield">
  <div class="form-box">
    <div class="addTitle">Add Your Book Information</div>
    <div class="bookInput">
      Book<input type="text" id="bookName" placeholder="Name of Book" />
    </div>
    <div class="authorInput">
      Author<input type="text" id="authorName" placeholder="Name of Author" />
    </div>
    <div class="pagesInput">
      Number of pages<input type="text" id="pagesCount" placeholder="Pages" />
    </div>
    <button class="done">Done</button>
  </div>
</div>
<footer id="footer">
  &copy; 2024 My Reading List. All rights reserved.
</footer>
    <script src="./assets/js/main.js"></script>
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-app.js";
  import { getFirestore, collection, addDoc, getDocs } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyD0pGn2y0YHwOGWNNTrnz3xTBIwkBUDDNw",
    authDomain: "library-list-55faa.firebaseapp.com",
    projectId: "library-list-55faa",
    storageBucket: "library-list-55faa.firebasestorage.app",
    messagingSenderId: "476285309191",
    appId: "1:476285309191:web:16c0b16a9fae5dfccfb5a2",
    measurementId: "G-7GMF7Z5VZY"
  };

  // Khá»Ÿi táº¡o Firebase
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // ====== HÃ€M LÆ¯U Dá»® LIá»†U LÃŠN FIREBASE ======
  async function saveToFirebase(library) {
    const colRef = collection(db, "books");
    for (const book of library) {
      await addDoc(colRef, book);
    }
    alert("ğŸ“š ÄÃ£ lÆ°u danh sÃ¡ch lÃªn Firebase!");
  }

  // ====== HÃ€M Táº¢I Dá»® LIá»†U Tá»ª FIREBASE ======
  async function loadFromFirebase() {
    const colRef = collection(db, "books");
    const snapshot = await getDocs(colRef);
    const books = snapshot.docs.map(doc => doc.data());
    console.log("ğŸ”¥ Dá»¯ liá»‡u tá»« Firebase:", books);
    return books;
  }

  // ğŸ”§ Gáº¯n ra global Ä‘á»ƒ main.js cÃ³ thá»ƒ gá»i
  window.saveToFirebase = saveToFirebase;
  window.loadFromFirebase = loadFromFirebase;
</script>
  </body>
</html>
